# 🧪 测试指南

## 🎯 本次更新测试要点

访问：**http://localhost:3000**

---

## ✅ 测试 1：按钮布局

### 预期效果
```
[⏺录音] [📍位置] ............... [123字] [🎤话筒] [⬆️发送]
```

### 检查项
- [ ] 录音按钮（圆形⏺）在最左侧
- [ ] 位置按钮（📍）在录音按钮右侧
- [ ] 话筒按钮（🎤）在发送按钮左侧
- [ ] 发送按钮（⬆️）在最右侧

✅ **通过标准：** 布局符合上述顺序

---

## ✅ 测试 2：录音预览 Bug 修复（重点）

### 测试步骤

#### 步骤 1：录制音频
```
1. 点击 [⏺录音] 按钮
2. 说话 10 秒钟
3. 再次点击停止录音
```
**预期：** 显示绿色卡片，包含播放器

#### 步骤 2：点击播放按钮（Bug 修复重点）
```
4. 点击播放器的 [▶️播放] 按钮
```
**预期：** 
- ✅ 音频开始播放
- ✅ 播放按钮变为 [⏸️暂停]
- ❌ **不应该**触发发送事件
- ❌ **不应该**看到"记录已保存"的提示

#### 步骤 3：点击进度条
```
5. 点击进度条的不同位置
```
**预期：**
- ✅ 播放位置跳转到点击位置
- ❌ **不应该**触发发送事件

#### 步骤 4：点击删除按钮
```
6. 点击 [删除] 按钮
```
**预期：**
- ✅ 音频被删除，绿色卡片消失
- ❌ **不应该**触发发送事件

#### 步骤 5：正常发送
```
7. 重新录音
8. 点击 [⬆️发送] 按钮
```
**预期：**
- ✅ 显示"记录已保存 🎤"
- ✅ Timeline 显示新记录

---

## ✅ 测试 3：语音转文字位置

### 测试步骤
```
1. 找到话筒按钮 [🎤]
2. 确认它在发送按钮 [⬆️] 的左边
3. 点击话筒按钮
4. 说话
```

**预期：**
- ✅ 话筒按钮变成紫色 + 脉动动画
- ✅ 文字实时出现在输入框
- ✅ 点击旁边的发送按钮很方便

---

## ✅ 测试 4：综合场景

### 场景 A：纯录音后预览再发送
```
1. 点击 [⏺录音]
2. 说话
3. 停止录音
4. 点击 [▶️播放] 听一遍（不触发发送）
5. 满意后点击 [⬆️发送]
```
**预期：** 整个流程顺畅，播放不会误触发送

### 场景 B：语音转文字快速发送
```
1. 点击右侧 [🎤话筒]
2. 说话
3. 点击旁边 [⬆️发送]
```
**预期：** 操作流程紧凑，一气呵成

### 场景 C：混合模式
```
1. 点击左侧 [⏺录音]
2. 点击右侧 [🎤话筒]
3. 说话
4. 预览音频（点击播放）
5. 编辑文字
6. 点击 [⬆️发送]
```
**预期：** 
- ✅ 同时有音频和文字
- ✅ 播放不触发发送
- ✅ 最终保存完整记录

---

## ✅ 测试 5：移动端

### 在手机上测试（需要局域网访问）
```
http://你的电脑IP:3000
```

**检查项：**
- [ ] 按钮布局正常
- [ ] 触摸操作流畅
- [ ] 录音预览正常
- [ ] 播放不误触发送

---

## 🐛 如果发现 Bug

### Bug 报告格式
```
【Bug 标题】
简短描述问题

【复现步骤】
1. ...
2. ...
3. ...

【预期行为】
应该发生什么

【实际行为】
实际发生了什么

【环境】
- 浏览器：Chrome/Safari/...
- 设备：桌面端/移动端
- 操作系统：macOS/Windows/iOS/Android
```

---

## ✅ 测试完成检查清单

### 核心功能
- [ ] 录音按钮在左侧
- [ ] 话筒按钮在发送按钮左侧
- [ ] 点击播放器不触发发送 ⭐⭐⭐
- [ ] 点击进度条不触发发送 ⭐⭐⭐
- [ ] 点击删除不触发发送 ⭐⭐⭐
- [ ] 只有点击发送才会发送 ⭐⭐⭐

### 基础功能
- [ ] 语音转文字正常工作
- [ ] 音频录制正常工作
- [ ] 位置记录正常工作
- [ ] Timeline 显示正常

### 用户体验
- [ ] 按钮布局符合直觉
- [ ] 操作流程顺畅
- [ ] 视觉反馈清晰
- [ ] 移动端体验良好

---

## 🎯 关键测试重点

### ⚠️ 最重要：播放器 Bug 修复
```
录音后点击 [▶️播放] 按钮
→ 应该只播放音频
→ 不应该触发发送

这是本次更新的核心修复！
必须确保此功能正常！
```

---

## 🎉 测试通过标准

### 必须满足（核心）
1. ✅ 播放器各种点击都不触发发送
2. ✅ 按钮布局符合设计
3. ✅ 所有基础功能正常工作

### 建议满足（体验）
4. ✅ 操作流程感觉顺畅
5. ✅ 移动端体验良好
6. ✅ 无明显卡顿或延迟

---

**祝测试顺利！** 🚀

如有任何问题，请参考 `UPDATE_LOG.md` 了解详细改动。

